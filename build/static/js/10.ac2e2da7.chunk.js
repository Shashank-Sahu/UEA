"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[10],{4085:function(e,t,n){n(7313);var r=n(182),i=n(6417);t.Z=function(e){var t=e.title,n=e.description,s=e.children;return(0,i.jsxs)("div",{children:[(0,i.jsxs)(r.q,{children:[(0,i.jsx)("title",{children:t}),(0,i.jsx)("meta",{name:"description",content:n})]}),s]})}},3311:function(e,t,n){n.d(t,{A:function(){return s}});var r=n(4165),i=n(5861),s=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/user/verify",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,i=n.user,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},4010:function(e,t,n){n.r(t);var r=n(9439),i=n(7313),s=n(7829),l=n(9019),a=n(501),u=n(1113),o=n(3306),c=n(1039),d=n(9099),m=n(4085),x=n(3311),f=n(8467),h=n(6417);t.default=function(){var e=(0,f.s0)(),t=(0,i.useState)(0),n=(0,r.Z)(t,2),Z=n[0],j=n[1],p=(0,i.useState)(0),v=(0,r.Z)(p,2),y=v[0],g=v[1],b=(0,i.useState)(0),S=(0,r.Z)(b,2),C=S[0],P=S[1],k=(0,i.useState)(0),W=(0,r.Z)(k,2),w=W[0],N=W[1],q=(0,i.useState)(0),z=(0,r.Z)(q,2),B=z[0],A=z[1],D=(0,i.useState)(24),T=(0,r.Z)(D,2),H=T[0],I=T[1],O=(0,i.useState)(!1),E=(0,r.Z)(O,2),G=E[0],J=E[1],L=(0,i.useState)(!1),M=(0,r.Z)(L,2),F=M[0],K=M[1],Q=(0,i.useState)(!1),R=(0,r.Z)(Q,2),U=R[0],V=R[1],X=(0,i.useState)({}),Y=(0,r.Z)(X,2),$=Y[0],_=Y[1],ee=function(e,t){t(e)};return(0,i.useEffect)((function(){(0,x.A)().then((function(t){t?_(t):e("/auth/login")}))})),(0,h.jsx)(m.Z,{title:"SurveyBoard",description:"this is SurveyBoard",children:(0,h.jsx)(s.Z,{children:(0,h.jsx)(l.ZP,{container:!0,spacing:3,children:(0,h.jsx)(l.ZP,{item:!0,xs:12,children:(0,h.jsx)(a.Z,{elevation:3,children:(0,h.jsxs)(s.Z,{sx:{padding:5},children:[(0,h.jsxs)(u.Z,{variant:"h6",gutterBottom:!0,sx:{paddingBottom:5},children:["New Survey | Hours Left to fill: ",H]}),(0,h.jsxs)(l.ZP,{container:!0,spacing:3,children:[(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,h.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",fontWeight:700},children:"Mobile"})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:10,children:(0,h.jsx)(c.Z,{required:!0,id:"mobile",name:"mobile",fullWidth:!0,type:"number",size:"small",autoComplete:"off",variant:"outlined",value:Z,onChange:function(e){return ee(e.target.value,j)}})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,h.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",fontWeight:700},children:"Gym"})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:10,children:(0,h.jsx)(c.Z,{required:!0,id:"gym",name:"gym",fullWidth:!0,type:"number",size:"small",autoComplete:"off",variant:"outlined",value:y,onChange:function(e){return ee(e.target.value,g)}})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,h.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",fontWeight:700},children:"Sleep"})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:10,children:(0,h.jsx)(c.Z,{required:!0,id:"sleep",name:"sleep",fullWidth:!0,size:"small",type:"number",autoComplete:"off",variant:"outlined",value:C,onChange:function(e){return ee(e.target.value,P)}})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,h.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",fontWeight:700},children:"Work"})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:10,children:(0,h.jsx)(c.Z,{required:!0,id:"work",name:"work",type:"number",fullWidth:!0,autoComplete:"off",variant:"outlined",value:w,onChange:function(e){return ee(e.target.value,N)}})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:2,children:(0,h.jsx)(o.Z,{sx:{display:"flex",justifyContent:"center",fontWeight:700},children:"Travel"})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:10,children:(0,h.jsx)(c.Z,{id:"travel",name:"travel",type:"number",fullWidth:!0,autoComplete:"off",variant:"outlined",value:B,onChange:function(e){return ee(e.target.value,A)}})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:6}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:5}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:12,display:"flex",justifyContent:"center",alignItems:"center",children:(0,h.jsx)(d.Z,{variant:"contained",onClick:function(e){return function(e){e.preventDefault();var t=24-(Number(Z)+Number(C)+Number(y)+Number(w)+Number(B));I(t),t<0?J(!0):Z&&y&&C&&w&&w&&B?(J(!1),fetch("/api/survey/new-survey",{method:"POST",credentials:"include",headers:{"content-type":"application/json"},body:JSON.stringify({country:$.country,state:$.state,age:$.age,email:$.email,indoorData:{mobile:Z,gym:y,sleep:C},outdoorData:{travel:B,work:w}})}).then((function(e){e.ok?(K(!0),J(!1),V(!1)):(K(!1),J(!1),V(!0))}))):J(!0)}(e)},children:"Submit"})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,sm:5}),(0,h.jsxs)(l.ZP,{item:!0,xs:12,sm:12,display:"flex",justifyContent:"center",alignItems:"center",children:[G&&(0,h.jsx)(u.Z,{color:"red",children:"Hours not filled correctly"}),F&&(0,h.jsx)(u.Z,{color:"grreen",children:"Survey Submitted"}),U&&(0,h.jsx)(u.Z,{color:"red",children:"Survey Already Submitted for Today!!"})]})]})]})})})})})})}}}]);